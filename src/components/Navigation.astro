---
import { generateNavigation, getCurrentPagePath } from '../utils/navigation.ts';
import NavigationReact from './NavigationReact';

interface Props {
  currentPath?: string;
  isMobile?: boolean;
}

const { currentPath, isMobile = false } = Astro.props;
const url = Astro.url;
const activePath = currentPath || getCurrentPagePath(url);

// Generate navigation structure
const navigationItems = await generateNavigation();
---

<NavigationReact 
  navigationItems={navigationItems}
  currentPath={activePath}
  isMobile={isMobile}
  client:visible
/>

<style>
  /* Additional custom styles if needed */
  nav {
    min-height: 100vh;
  }
  
  /* Smooth transitions for hover effects */
  nav a, nav div {
    transition: all 0.15s ease-in-out;
  }
  
  /* Active state border styling */
  .border-l-4 {
    border-left-width: 4px;
  }
</style>